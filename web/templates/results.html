{% extends "_template.html" %}


{% block content%}
<div id="content"></div>
{% endblock %}

{% block scripts %}
<script type="text/jsx" src="{{url_for('static', filename='js/results.js')}}"></script>
<script type="text/jsx">
  var element = <Content data="{{data}}"/>
  ReactDOM.render(element, document.getElementById("content"));
</script>
{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
<script>
  
  console.log({{ results[0]["dis"] }});

  var data = {
    labels: Array.from({length: {{num_results}}}, (v, k) => k+1),
    datasets: [{
      label: "nus-wide",
      backgroundColor: "rgba(255,99,132,0.2)",
      borderColor: "rgba(255,99,132,1)",
      borderWidth: 2,
      hoverBackgroundColor: "rgba(255,99,132,0.4)",
      hoverBorderColor: "rgba(255,99,132,1)",
      data: {{ results[0]["dis"] }},
    }]
  };

  var options = {
    maintainAspectRatio: false,
    scales: {
      yAxes: [{
        stacked: true,
        gridLines: {
          display: true,
          color: "rgba(255,99,132,0.2)"
        }
      }],
      xAxes: [{
        gridLines: {
          display: false
        }
      }]
    }
  };


  var myChart = Chart.Bar('chart', {
    options: options,
    data: data
  });
  
</script>


